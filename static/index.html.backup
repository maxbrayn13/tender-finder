<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TenderFinder Pro - –£–º–Ω—ã–π –ø–æ–∏—Å–∫ —Ç–µ–Ω–¥–µ—Ä–æ–≤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        @keyframes gradient-x {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.3); }
            50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.6); }
        }
        
        .animated-bg {
            background: linear-gradient(-45deg, #0f172a, #1e1b4b, #312e81, #4c1d95);
            background-size: 400% 400%;
            animation: gradient-x 15s ease infinite;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .glass-strong {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.3);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-border {
            position: relative;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 2px solid transparent;
            background-clip: padding-box;
        }
        
        .gradient-border::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            padding: 2px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6, #d946ef);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .btn-success:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
        }
        
        .input-modern {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .input-modern:focus {
            background: rgba(255, 255, 255, 0.08);
            border-color: #8b5cf6;
            box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.1);
            outline: none;
        }
        
        .stat-card {
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6, #d946ef);
        }
        
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .badge-admin {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #78350f;
        }
        
        .badge-user {
            background: rgba(99, 102, 241, 0.2);
            color: #a5b4fc;
            border: 1px solid rgba(99, 102, 241, 0.3);
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            letter-spacing: -0.02em;
        }
        
        @media (max-width: 640px) {
            .section-title {
                font-size: 2rem;
            }
        }
        
        .table-row {
            transition: all 0.2s ease;
        }
        
        .table-row:hover {
            background: rgba(139, 92, 246, 0.1);
            transform: scale(1.01);
        }
        
        .scroll-smooth {
            scroll-behavior: smooth;
        }
        
        .tooltip {
            position: relative;
        }
        
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 0.5rem 1rem;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            border-radius: 0.5rem;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .tooltip:hover::after {
            opacity: 1;
        }
    </style>
</head>
<body class="animated-bg min-h-screen scroll-smooth">
    <div id="app"></div>

    <script>
        const API_URL = window.location.origin + '/api';
        
        const fmt = (n) => new Intl.NumberFormat('ru-RU').format(n);
        const fmtShort = (n) => {
            if (n >= 1e9) return `${(n/1e9).toFixed(1)}B`;
            if (n >= 1e6) return `${(n/1e6).toFixed(1)}M`;
            if (n >= 1e3) return `${(n/1e3).toFixed(0)}K`;
            return fmt(n);
        };

        // –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
        const marketplaceCountry = {
            // –ö–∏—Ç–∞–π
            '1688.com': { country: 'china', flag: 'üá®üá≥', name: '–ö–∏—Ç–∞–π' },
            '1688': { country: 'china', flag: 'üá®üá≥', name: '–ö–∏—Ç–∞–π' },
            'Taobao': { country: 'china', flag: 'üá®üá≥', name: '–ö–∏—Ç–∞–π' },
            'TaoBao': { country: 'china', flag: 'üá®üá≥', name: '–ö–∏—Ç–∞–π' },
            'Temu': { country: 'china', flag: 'üá®üá≥', name: '–ö–∏—Ç–∞–π' },
            
            // –†–æ—Å—Å–∏—è
            'Wildberries': { country: 'russia', flag: 'üá∑üá∫', name: '–†–æ—Å—Å–∏—è' },
            'Wildberries.kz': { country: 'russia', flag: 'üá∑üá∫', name: '–†–æ—Å—Å–∏—è' },
            'Ozon': { country: 'russia', flag: 'üá∑üá∫', name: '–†–æ—Å—Å–∏—è' },
            'Ozon.kz': { country: 'russia', flag: 'üá∑üá∫', name: '–†–æ—Å—Å–∏—è' },
            'Chipdip': { country: 'russia', flag: 'üá∑üá∫', name: '–†–æ—Å—Å–∏—è' },
            
            // –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω
            'Satu.kz': { country: 'kazakhstan', flag: 'üá∞üáø', name: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' },
            'Kaspi.kz': { country: 'kazakhstan', flag: 'üá∞üáø', name: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' },
            'Otevertka.kz': { country: 'kazakhstan', flag: 'üá∞üáø', name: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' }
        };

        const getMarketplaceInfo = (marketplace) => {
            return marketplaceCountry[marketplace] || { country: 'other', flag: 'üåê', name: '–î—Ä—É–≥–æ–µ' };
        };

        const groupByCountry = (results) => {
            const grouped = {
                kazakhstan: [],
                russia: [],
                china: [],
                other: []
            };
            
            results.forEach(result => {
                const info = getMarketplaceInfo(result.marketplace);
                grouped[info.country].push({ ...result, countryInfo: info });
            });
            
            return grouped;
        };

        class App {
            constructor() {
                this.page = 'home';
                this.lots = [];
                this.categories = [];
                this.stats = null;
                this.loading = false;
                this.search = '';
                this.category = '';
                this.budgetInput = '';
                this.marginInput = '';
                this.calcResults = null;
                this.product = null;
                this.user = null;
                this.users = [];
                this.error = '';
                
                this.init();
            }

            async init() {
                await this.checkAuth();
                await this.loadCategories();
                await this.loadStats();
                this.render();
            }

            async checkAuth() {
                try {
                    const res = await fetch(`${API_URL}/auth/me`, { credentials: 'include' });
                    if (res.ok) {
                        this.user = await res.json();
                    }
                } catch (e) {}
            }

            async register(username, email, password) {
                try {
                    this.error = '';
                    const res = await fetch(`${API_URL}/auth/register`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        credentials: 'include',
                        body: JSON.stringify({ username, email, password })
                    });
                    const data = await res.json();
                    if (res.ok) {
                        this.user = data.user;
                        this.page = 'home';
                        this.render();
                    } else {
                        this.error = data.error;
                        this.render();
                    }
                } catch (e) {
                    this.error = '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';
                    this.render();
                }
            }

            async login(username, password) {
                try {
                    this.error = '';
                    const res = await fetch(`${API_URL}/auth/login`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        credentials: 'include',
                        body: JSON.stringify({ username, password })
                    });
                    const data = await res.json();
                    if (res.ok) {
                        this.user = data.user;
                        this.page = 'home';
                        this.render();
                    } else {
                        this.error = data.error;
                        this.render();
                    }
                } catch (e) {
                    this.error = '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞';
                    this.render();
                }
            }

            async logout() {
                try {
                    await fetch(`${API_URL}/auth/logout`, {
                        method: 'POST',
                        credentials: 'include'
                    });
                    this.user = null;
                    this.page = 'home';
                    this.render();
                } catch (e) {
                    console.error(e);
                }
            }

            async loadCategories() {
                const res = await fetch(`${API_URL}/categories`);
                const data = await res.json();
                this.categories = data.categories;
            }

            async loadStats() {
                const res = await fetch(`${API_URL}/stats`);
                this.stats = await res.json();
                this.render();
            }

            async searchByBudget() {
                if (!this.user) {
                    this.page = 'login';
                    this.render();
                    return;
                }
                this.loading = true;
                this.render();
                const res = await fetch(`${API_URL}/lots/search-by-budget`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'include',
                    body: JSON.stringify({ budget: parseFloat(this.budgetInput) })
                });
                this.calcResults = await res.json();
                this.loading = false;
                this.render();
            }

            async searchByMargin() {
                if (!this.user) {
                    this.page = 'login';
                    this.render();
                    return;
                }
                this.loading = true;
                this.render();
                const res = await fetch(`${API_URL}/lots/search-by-margin`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'include',
                    body: JSON.stringify({ target_margin: parseFloat(this.marginInput) })
                });
                this.calcResults = await res.json();
                this.loading = false;
                this.render();
            }

            async loadCatalog() {
                if (!this.user) {
                    this.page = 'login';
                    this.render();
                    return;
                }
                this.loading = true;
                this.render();
                const params = new URLSearchParams({ limit: 100 });
                if (this.category) params.append('category', this.category);
                if (this.search) params.append('search', this.search);
                const res = await fetch(`${API_URL}/lots?${params}`, { credentials: 'include' });
                const data = await res.json();
                this.lots = data.results;
                this.loading = false;
                this.render();
            }

            async viewProduct(id) {
                if (!this.user) {
                    this.page = 'login';
                    this.render();
                    return;
                }
                this.loading = true;
                this.render();
                const res = await fetch(`${API_URL}/lots/${id}`, { credentials: 'include' });
                this.product = await res.json();
                this.page = 'product';
                this.loading = false;
                this.render();
            }

            async loadUsers() {
                if (!this.user || !this.user.is_admin) return;
                try {
                    const res = await fetch(`${API_URL}/admin/users`, { credentials: 'include' });
                    const data = await res.json();
                    this.users = data.users;
                    this.render();
                } catch (e) {
                    console.error(e);
                }
            }

            async toggleAdmin(userId) {
                try {
                    const res = await fetch(`${API_URL}/admin/users/${userId}/toggle-admin`, {
                        method: 'POST',
                        credentials: 'include'
                    });
                    if (res.ok) {
                        await this.loadUsers();
                    }
                } catch (e) {
                    console.error(e);
                }
            }

            async deleteUser(userId) {
                if (!confirm('–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) return;
                try {
                    const res = await fetch(`${API_URL}/admin/users/${userId}`, {
                        method: 'DELETE',
                        credentials: 'include'
                    });
                    if (res.ok) {
                        await this.loadUsers();
                    }
                } catch (e) {
                    console.error(e);
                }
            }

            setPage(page) {
                this.page = page;
                this.calcResults = null;
                this.error = '';
                if (page === 'catalog') this.loadCatalog();
                if (page === 'admin') this.loadUsers();
                this.render();
            }

            render() {
                const app = document.getElementById('app');
                app.innerHTML = `
                    ${this.renderNav()}
                    ${this.renderPage()}
                `;
            }

            renderNav() {
                return `
                    <nav class="glass-strong sticky top-0 z-50 border-b border-white/10">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex items-center justify-between h-20">
                                <div class="flex items-center gap-4">
                                    <div class="relative">
                                        <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center shadow-lg">
                                            <span class="text-2xl font-black text-white">T</span>
                                        </div>
                                        <div class="absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-gray-900 animate-pulse"></div>
                                    </div>
                                    <div>
                                        <div class="text-white font-bold text-xl tracking-tight">TenderFinder</div>
                                        <div class="text-xs text-purple-300 font-medium">Pro Edition</div>
                                    </div>
                                </div>
                                
                                <div class="hidden md:flex items-center gap-2">
                                    <button onclick="app.setPage('home')" class="${this.page === 'home' ? 'glass-strong text-white' : 'text-gray-300 hover:text-white'} px-4 py-2 rounded-xl font-medium transition-all duration-200">
                                        <span class="flex items-center gap-2">
                                            üè† –ì–ª–∞–≤–Ω–∞—è
                                        </span>
                                    </button>
                                    ${this.user ? `
                                        <button onclick="app.setPage('catalog')" class="${this.page === 'catalog' ? 'glass-strong text-white' : 'text-gray-300 hover:text-white'} px-4 py-2 rounded-xl font-medium transition-all duration-200">
                                            <span class="flex items-center gap-2">
                                                üìä –ö–∞—Ç–∞–ª–æ–≥
                                            </span>
                                        </button>
                                        ${this.user.is_admin ? `
                                            <button onclick="app.setPage('admin')" class="${this.page === 'admin' ? 'glass-strong text-white' : 'text-gray-300 hover:text-white'} px-4 py-2 rounded-xl font-medium transition-all duration-200">
                                                <span class="flex items-center gap-2">
                                                    ‚öôÔ∏è –ê–¥–º–∏–Ω–∫–∞
                                                </span>
                                            </button>
                                        ` : ''}
                                    ` : ''}
                                </div>

                                <div class="flex items-center gap-3">
                                    ${this.user ? `
                                        <div class="glass px-4 py-2 rounded-xl flex items-center gap-3">
                                            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm">
                                                ${this.user.username[0].toUpperCase()}
                                            </div>
                                            <div class="hidden sm:block">
                                                <div class="text-white font-medium text-sm">${this.user.username}</div>
                                                ${this.user.is_admin ? '<div class="badge badge-admin text-xs">ADMIN</div>' : ''}
                                            </div>
                                        </div>
                                        <button onclick="app.logout()" class="px-4 py-2 rounded-xl bg-red-500/20 hover:bg-red-500/30 text-red-300 hover:text-red-200 font-medium transition-all duration-200">
                                            –í—ã—Ö–æ–¥
                                        </button>
                                    ` : `
                                        <button onclick="app.setPage('login')" class="px-6 py-2.5 rounded-xl btn-primary text-white font-semibold">
                                            –í–æ–π—Ç–∏
                                        </button>
                                        <button onclick="app.setPage('register')" class="hidden sm:block px-6 py-2.5 rounded-xl glass-strong text-white font-semibold hover:scale-105 transition-transform">
                                            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                                        </button>
                                    `}
                                </div>
                            </div>
                        </div>
                    </nav>
                `;
            }

            renderPage() {
                if (this.page === 'home') return this.renderHome();
                if (this.page === 'login') return this.renderLogin();
                if (this.page === 'register') return this.renderRegister();
                if (this.page === 'catalog') return this.renderCatalog();
                if (this.page === 'product') return this.renderProduct();
                if (this.page === 'admin') return this.renderAdmin();
                return '';
            }

            renderLogin() {
                return `
                    <div class="min-h-[calc(100vh-5rem)] flex items-center justify-center px-4 py-12">
                        <div class="w-full max-w-md">
                            <div class="text-center mb-8">
                                <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 mb-4 floating">
                                    <span class="text-3xl">üîê</span>
                                </div>
                                <h2 class="text-4xl font-black text-white mb-2">–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º!</h2>
                                <p class="text-gray-400">–í–æ–π–¥–∏—Ç–µ —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É</p>
                            </div>

                            <div class="glass-strong rounded-3xl p-8 shadow-2xl">
                                ${this.error ? `
                                    <div class="mb-6 p-4 rounded-2xl bg-red-500/20 border border-red-500/30 text-red-300 flex items-center gap-3">
                                        <span class="text-xl">‚ö†Ô∏è</span>
                                        <span>${this.error}</span>
                                    </div>
                                ` : ''}
                                
                                <form onsubmit="event.preventDefault(); app.login(document.getElementById('login-username').value, document.getElementById('login-password').value)">
                                    <div class="mb-6">
                                        <label class="block text-gray-300 font-semibold mb-2 text-sm">–õ–æ–≥–∏–Ω</label>
                                        <input id="login-username" type="text" required 
                                            class="w-full px-4 py-3 rounded-xl input-modern text-white placeholder-gray-500 font-medium" 
                                            placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω">
                                    </div>
                                    <div class="mb-6">
                                        <label class="block text-gray-300 font-semibold mb-2 text-sm">–ü–∞—Ä–æ–ª—å</label>
                                        <input id="login-password" type="password" required 
                                            class="w-full px-4 py-3 rounded-xl input-modern text-white placeholder-gray-500 font-medium" 
                                            placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                                    </div>
                                    <button type="submit" class="w-full px-6 py-4 rounded-xl btn-primary text-white font-bold text-lg">
                                        –í–æ–π—Ç–∏ ‚Üí
                                    </button>
                                </form>
                                
                                <div class="mt-6 text-center">
                                    <button onclick="app.setPage('register')" class="text-purple-300 hover:text-purple-200 font-medium transition-colors">
                                        –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <span class="underline">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderRegister() {
                return `
                    <div class="min-h-[calc(100vh-5rem)] flex items-center justify-center px-4 py-12">
                        <div class="w-full max-w-md">
                            <div class="text-center mb-8">
                                <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 mb-4 floating">
                                    <span class="text-3xl">‚ú®</span>
                                </div>
                                <h2 class="text-4xl font-black text-white mb-2">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h2>
                                <p class="text-gray-400">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ TenderFinder Pro</p>
                            </div>

                            <div class="glass-strong rounded-3xl p-8 shadow-2xl">
                                ${this.error ? `
                                    <div class="mb-6 p-4 rounded-2xl bg-red-500/20 border border-red-500/30 text-red-300 flex items-center gap-3">
                                        <span class="text-xl">‚ö†Ô∏è</span>
                                        <span>${this.error}</span>
                                    </div>
                                ` : ''}
                                
                                <form onsubmit="event.preventDefault(); app.register(document.getElementById('reg-username').value, document.getElementById('reg-email').value, document.getElementById('reg-password').value)">
                                    <div class="mb-6">
                                        <label class="block text-gray-300 font-semibold mb-2 text-sm">–õ–æ–≥–∏–Ω</label>
                                        <input id="reg-username" type="text" required 
                                            class="w-full px-4 py-3 rounded-xl input-modern text-white placeholder-gray-500 font-medium" 
                                            placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–≥–∏–Ω">
                                    </div>
                                    <div class="mb-6">
                                        <label class="block text-gray-300 font-semibold mb-2 text-sm">Email</label>
                                        <input id="reg-email" type="email" required 
                                            class="w-full px-4 py-3 rounded-xl input-modern text-white placeholder-gray-500 font-medium" 
                                            placeholder="your@email.com">
                                    </div>
                                    <div class="mb-6">
                                        <label class="block text-gray-300 font-semibold mb-2 text-sm">–ü–∞—Ä–æ–ª—å</label>
                                        <input id="reg-password" type="password" required 
                                            class="w-full px-4 py-3 rounded-xl input-modern text-white placeholder-gray-500 font-medium" 
                                            placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤">
                                    </div>
                                    <button type="submit" class="w-full px-6 py-4 rounded-xl btn-success text-white font-bold text-lg">
                                        –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç ‚Üí
                                    </button>
                                </form>
                                
                                <div class="mt-6 text-center">
                                    <button onclick="app.setPage('login')" class="text-purple-300 hover:text-purple-200 font-medium transition-colors">
                                        –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <span class="underline">–í–æ–π–¥–∏—Ç–µ</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderHome() {
                return `
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-20">
                        <!-- Hero Section -->
                        <div class="text-center mb-20">
                            <div class="inline-block mb-6">
                                <span class="badge bg-gradient-to-r from-violet-500/20 to-purple-500/20 text-violet-300 border border-violet-500/30">
                                    ‚ö° Powered by AI Analytics
                                </span>
                            </div>
                            <h1 class="section-title gradient-text mb-6 leading-tight">
                                –ù–∞–π–¥–∏—Ç–µ —Å–∞–º—ã–µ –≤—ã–≥–æ–¥–Ω—ã–µ<br>–≥–æ—Å–∑–∞–∫—É–ø–∫–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞
                            </h1>
                            <p class="text-xl text-gray-300 max-w-3xl mx-auto mb-10 leading-relaxed">
                                –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª–∏, ROI –∏ –º–∞—Ä–∂–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ–Ω–¥–µ—Ä–∞.<br>
                                –£–º–Ω—ã–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –ø–æ–º–æ–≥—É—Ç –Ω–∞–π—Ç–∏ –∏–¥–µ–∞–ª—å–Ω—ã–µ –ª–æ—Ç—ã –ø–æ–¥ –≤–∞—à –±—é–¥–∂–µ—Ç.
                            </p>
                            ${!this.user ? `
                                <div class="flex flex-wrap gap-4 justify-center">
                                    <button onclick="app.setPage('register')" class="px-8 py-4 rounded-xl btn-success text-white font-bold text-lg shadow-2xl">
                                        üöÄ –ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
                                    </button>
                                    <button onclick="app.setPage('login')" class="px-8 py-4 rounded-xl glass-strong text-white font-bold text-lg hover:scale-105 transition-transform">
                                        –í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç
                                    </button>
                                </div>
                            ` : ''}
                        </div>

                        <!-- Stats Grid -->
                        ${this.stats ? `
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-20">
                                <div class="stat-card glass-strong rounded-2xl p-6 card-hover">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center">
                                            <span class="text-2xl">üì¶</span>
                                        </div>
                                        <span class="text-xs font-bold text-blue-300 bg-blue-500/20 px-2 py-1 rounded-lg">TOTAL</span>
                                    </div>
                                    <div class="text-3xl font-black text-white mb-1">${this.stats.total_lots}</div>
                                    <div class="text-sm text-gray-400 font-medium">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ª–æ—Ç–æ–≤</div>
                                </div>
                                
                                <div class="stat-card glass-strong rounded-2xl p-6 card-hover">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="w-12 h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center">
                                            <span class="text-2xl">üí∞</span>
                                        </div>
                                        <span class="text-xs font-bold text-emerald-300 bg-emerald-500/20 px-2 py-1 rounded-lg">VALUE</span>
                                    </div>
                                    <div class="text-3xl font-black text-white mb-1">${fmtShort(this.stats.total_sum)}‚Ç∏</div>
                                    <div class="text-sm text-gray-400 font-medium">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
                                </div>
                                
                                <div class="stat-card glass-strong rounded-2xl p-6 card-hover">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center">
                                            <span class="text-2xl">üìà</span>
                                        </div>
                                        <span class="text-xs font-bold text-purple-300 bg-purple-500/20 px-2 py-1 rounded-lg">AVG</span>
                                    </div>
                                    <div class="text-3xl font-black text-emerald-400 mb-1">${this.stats.avg_margin.toFixed(1)}%</div>
                                    <div class="text-sm text-gray-400 font-medium">–°—Ä–µ–¥–Ω—è—è –º–∞—Ä–∂–∞</div>
                                </div>
                                
                                <div class="stat-card glass-strong rounded-2xl p-6 card-hover">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="w-12 h-12 rounded-xl bg-orange-500/20 flex items-center justify-center">
                                            <span class="text-2xl">üî•</span>
                                        </div>
                                        <span class="text-xs font-bold text-orange-300 bg-orange-500/20 px-2 py-1 rounded-lg">HOT</span>
                                    </div>
                                    <div class="text-3xl font-black text-orange-400 mb-1">${this.stats.hot_deals}</div>
                                    <div class="text-sm text-gray-400 font-medium">–ì–æ—Ä—è—á–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</div>
                                </div>
                            </div>
                        ` : ''}

                        ${this.user ? `
                            <!-- Calculators -->
                            <div class="grid md:grid-cols-2 gap-8 mb-20">
                                <div class="glass-strong rounded-3xl p-8 card-hover">
                                    <div class="flex items-center gap-4 mb-6">
                                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center">
                                            <span class="text-3xl">üí∞</span>
                                        </div>
                                        <div>
                                            <h3 class="text-2xl font-bold text-white">–ü–æ–∏—Å–∫ –ø–æ –±—é–¥–∂–µ—Ç—É</h3>
                                            <p class="text-gray-400 text-sm">–ù–∞–π–¥–∏—Ç–µ –ª–æ—Ç—ã –ø–æ–¥ –≤–∞—à–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</p>
                                        </div>
                                    </div>
                                    <input
                                        type="number"
                                        placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –±—é–¥–∂–µ—Ç (‚Ç∏)"
                                        value="${this.budgetInput}"
                                        oninput="app.budgetInput = this.value"
                                        class="w-full px-5 py-4 rounded-xl input-modern text-white placeholder-gray-500 mb-4 font-medium text-lg"
                                    />
                                    <button
                                        onclick="app.searchByBudget()"
                                        ${this.loading ? 'disabled' : ''}
                                        class="w-full px-6 py-4 rounded-xl btn-primary text-white font-bold disabled:opacity-50 disabled:cursor-not-allowed"
                                    >
                                        ${this.loading ? '‚è≥ –ü–æ–∏—Å–∫...' : 'üîç –ù–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ª–æ—Ç—ã'}
                                    </button>
                                </div>

                                <div class="glass-strong rounded-3xl p-8 card-hover">
                                    <div class="flex items-center gap-4 mb-6">
                                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center">
                                            <span class="text-3xl">üìà</span>
                                        </div>
                                        <div>
                                            <h3 class="text-2xl font-bold text-white">–ü–æ–∏—Å–∫ –ø–æ –ø—Ä–∏–±—ã–ª–∏</h3>
                                            <p class="text-gray-400 text-sm">–£–∫–∞–∂–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é –º–∞—Ä–∂—É</p>
                                        </div>
                                    </div>
                                    <input
                                        type="number"
                                        placeholder="–ñ–µ–ª–∞–µ–º–∞—è –ø—Ä–∏–±—ã–ª—å (‚Ç∏)"
                                        value="${this.marginInput}"
                                        oninput="app.marginInput = this.value"
                                        class="w-full px-5 py-4 rounded-xl input-modern text-white placeholder-gray-500 mb-4 font-medium text-lg"
                                    />
                                    <button
                                        onclick="app.searchByMargin()"
                                        ${this.loading ? 'disabled' : ''}
                                        class="w-full px-6 py-4 rounded-xl btn-success text-white font-bold disabled:opacity-50 disabled:cursor-not-allowed"
                                    >
                                        ${this.loading ? '‚è≥ –ü–æ–∏—Å–∫...' : 'üéØ –ù–∞–π—Ç–∏ –≤—ã–≥–æ–¥–Ω—ã–µ –ª–æ—Ç—ã'}
                                    </button>
                                </div>
                            </div>

                            <!-- Results -->
                            ${this.calcResults ? `
                                <div class="glass-strong rounded-3xl p-8">
                                    <div class="flex items-center justify-between mb-8">
                                        <div>
                                            <h3 class="text-3xl font-bold text-white mb-2">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h3>
                                            <p class="text-gray-400">–ù–∞–π–¥–µ–Ω–æ <span class="text-emerald-400 font-bold">${this.calcResults.total}</span> –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ª–æ—Ç–æ–≤</p>
                                        </div>
                                        <button onclick="app.calcResults = null; app.render()" class="px-4 py-2 rounded-xl glass text-white hover:scale-105 transition-transform">
                                            ‚úï –ó–∞–∫—Ä—ã—Ç—å
                                        </button>
                                    </div>
                                    <div class="grid gap-4">
                                        ${this.calcResults.results.slice(0, 10).map((lot, i) => `
                                            <div onclick="app.viewProduct(${lot.id})" class="glass rounded-2xl p-6 card-hover cursor-pointer">
                                                <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4">
                                                    <div class="flex-1">
                                                        <div class="flex items-center gap-3 mb-2">
                                                            <span class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 text-white font-bold text-sm">
                                                                ${i + 1}
                                                            </span>
                                                            <h4 class="text-white font-bold text-lg">${lot.simplified_name || lot.original_name}</h4>
                                                        </div>
                                                        <div class="text-gray-400 text-sm font-mono">${lot.lot_number}</div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-3xl font-black text-emerald-400">${fmt(lot.stats.profit)}‚Ç∏</div>
                                                        <div class="text-gray-400 text-sm font-medium">–ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–∏–±—ã–ª–∏</div>
                                                    </div>
                                                </div>
                                                <div class="grid grid-cols-3 gap-4">
                                                    <div class="bg-white/5 rounded-xl p-3">
                                                        <div class="text-gray-400 text-xs mb-1">ROI</div>
                                                        <div class="text-purple-400 font-bold text-lg">${lot.stats.roi.toFixed(1)}%</div>
                                                    </div>
                                                    <div class="bg-white/5 rounded-xl p-3">
                                                        <div class="text-gray-400 text-xs mb-1">–ó–∞—Ç—Ä–∞—Ç—ã</div>
                                                        <div class="text-orange-400 font-bold text-lg">${fmtShort(lot.stats.total_expense)}‚Ç∏</div>
                                                    </div>
                                                    <div class="bg-white/5 rounded-xl p-3">
                                                        <div class="text-gray-400 text-xs mb-1">–ú–∞—Ä–∂–∞</div>
                                                        <div class="text-blue-400 font-bold text-lg">${lot.stats.margin_percent.toFixed(0)}%</div>
                                                    </div>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            ` : ''}
                        ` : `
                            <!-- CTA for non-authenticated -->
                            <div class="glass-strong rounded-3xl p-12 text-center">
                                <div class="inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-violet-500 to-purple-600 mb-6 floating">
                                    <span class="text-4xl">üîí</span>
                                </div>
                                <h3 class="text-3xl font-bold text-white mb-4">–ü–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø</h3>
                                <p class="text-gray-300 mb-8 max-w-lg mx-auto text-lg">
                                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –ø–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —É–º–Ω—ã–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞–º,<br>–ø–æ–ª–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–≥—É –ª–æ—Ç–æ–≤ –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–µ
                                </p>
                                <div class="flex flex-wrap gap-4 justify-center">
                                    <button onclick="app.setPage('register')" class="px-8 py-4 rounded-xl btn-success text-white font-bold text-lg">
                                        üöÄ –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
                                    </button>
                                    <button onclick="app.setPage('login')" class="px-8 py-4 rounded-xl glass text-white font-bold text-lg hover:scale-105 transition-transform">
                                        –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç
                                    </button>
                                </div>
                            </div>
                        `}

                        <!-- Features -->
                        <div class="grid md:grid-cols-3 gap-8 mt-20">
                            <div class="glass rounded-2xl p-8 text-center">
                                <div class="w-16 h-16 rounded-2xl bg-blue-500/20 flex items-center justify-center mx-auto mb-4">
                                    <span class="text-4xl">‚ö°</span>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-3">–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑</h3>
                                <p class="text-gray-400">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª–∏, ROI –∏ –º–∞—Ä–∂–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ª–æ—Ç–∞</p>
                            </div>
                            <div class="glass rounded-2xl p-8 text-center">
                                <div class="w-16 h-16 rounded-2xl bg-emerald-500/20 flex items-center justify-center mx-auto mb-4">
                                    <span class="text-4xl">üéØ</span>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-3">–£–º–Ω—ã–π –ø–æ–∏—Å–∫</h3>
                                <p class="text-gray-400">–ù–∞–π–¥–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–µ –ª–æ—Ç—ã –ø–æ –±—é–¥–∂–µ—Ç—É –∏–ª–∏ –∂–µ–ª–∞–µ–º–æ–π –ø—Ä–∏–±—ã–ª–∏</p>
                            </div>
                            <div class="glass rounded-2xl p-8 text-center">
                                <div class="w-16 h-16 rounded-2xl bg-purple-500/20 flex items-center justify-center mx-auto mb-4">
                                    <span class="text-4xl">üìä</span>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-3">–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
                                <p class="text-gray-400">–ü–æ–ª–Ω–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–µ–Ω–¥–µ—Ä—É</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderCatalog() {
                return `
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <div class="flex items-center justify-between mb-8">
                            <div>
                                <h2 class="text-4xl font-black text-white mb-2">–ö–∞—Ç–∞–ª–æ–≥ –ª–æ—Ç–æ–≤</h2>
                                <p class="text-gray-400">–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ—Å–∑–∞–∫—É–ø–∫–∏ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π</p>
                            </div>
                            <div class="badge bg-blue-500/20 text-blue-300 border border-blue-500/30">
                                üì¶ ${this.lots.length} –ª–æ—Ç–æ–≤
                            </div>
                        </div>
                        
                        <!-- Search -->
                        <div class="glass-strong rounded-2xl p-6 mb-8">
                            <div class="flex flex-col md:flex-row gap-4">
                                <input
                                    type="text"
                                    placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –Ω–æ–º–µ—Ä—É..."
                                    value="${this.search}"
                                    oninput="app.search = this.value"
                                    onkeypress="if(event.key==='Enter') app.loadCatalog()"
                                    class="flex-1 px-5 py-3 rounded-xl input-modern text-white placeholder-gray-500 font-medium"
                                />
                                <select
                                    value="${this.category}"
                                    onchange="app.category = this.value; app.loadCatalog()"
                                    class="px-5 py-3 rounded-xl input-modern text-white font-medium"
                                >
                                    <option value="">üìÇ –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                                    ${this.categories.map(cat => `<option value="${cat}">${cat}</option>`).join('')}
                                </select>
                                <button
                                    onclick="app.loadCatalog()"
                                    class="px-8 py-3 rounded-xl btn-primary text-white font-bold whitespace-nowrap"
                                >
                                    –ü–æ–∏—Å–∫
                                </button>
                            </div>
                        </div>

                        <!-- Lots Grid -->
                        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${this.lots.map(lot => `
                                <div onclick="app.viewProduct(${lot.id})" class="glass-strong rounded-2xl p-6 card-hover cursor-pointer group">
                                    <div class="flex items-start justify-between mb-4">
                                        <span class="badge badge-user text-xs">${lot.category || '–î—Ä—É–≥–æ–µ'}</span>
                                        <span class="text-2xl opacity-0 group-hover:opacity-100 transition-opacity">‚Üí</span>
                                    </div>
                                    <h3 class="text-white font-bold text-lg mb-4 line-clamp-2 min-h-[3.5rem]">${lot.simplified_name || lot.original_name}</h3>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div class="bg-white/5 rounded-xl p-3">
                                            <div class="text-gray-400 text-xs mb-1">–¶–µ–Ω–∞</div>
                                            <div class="text-emerald-400 font-bold text-lg">${fmt(lot.tender_price)}‚Ç∏</div>
                                        </div>
                                        <div class="bg-white/5 rounded-xl p-3">
                                            <div class="text-gray-400 text-xs mb-1">–ö–æ–ª-–≤–æ</div>
                                            <div class="text-blue-400 font-bold text-lg">${lot.quantity}</div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        ${this.lots.length === 0 ? `
                            <div class="glass rounded-2xl p-12 text-center">
                                <div class="text-6xl mb-4">üîç</div>
                                <h3 class="text-2xl font-bold text-white mb-2">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
                                <p class="text-gray-400">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞</p>
                            </div>
                        ` : ''}
                    </div>
                `;
            }

            renderProduct() {
                if (!this.product) return '';
                
                return `
                    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <button onclick="app.setPage('catalog')" class="flex items-center gap-2 px-4 py-2 rounded-xl glass-strong text-white hover:scale-105 transition-transform mb-8">
                            ‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–∞–ª–æ–≥—É
                        </button>
                        
                        <!-- Product Header -->
                        <div class="glass-strong rounded-3xl p-8 mb-8">
                            <div class="flex items-start justify-between mb-6">
                                <div class="flex-1">
                                    <span class="badge badge-user mb-4">${this.product.category || '–î—Ä—É–≥–æ–µ'}</span>
                                    <h2 class="text-4xl font-black text-white mb-4 leading-tight">${this.product.simplified_name || this.product.original_name}</h2>
                                    <div class="flex items-center gap-4 text-gray-400 font-mono text-sm">
                                        <span>üìã ${this.product.lot_number}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="bg-white/5 rounded-xl p-4">
                                    <div class="text-gray-400 text-sm mb-2">–¢–µ–Ω–¥–µ—Ä–Ω–∞—è —Ü–µ–Ω–∞</div>
                                    <div class="text-2xl font-bold text-white">${fmt(this.product.tender_price)}‚Ç∏</div>
                                </div>
                                <div class="bg-white/5 rounded-xl p-4">
                                    <div class="text-gray-400 text-sm mb-2">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</div>
                                    <div class="text-2xl font-bold text-white">${this.product.quantity}</div>
                                </div>
                                <div class="bg-white/5 rounded-xl p-4">
                                    <div class="text-gray-400 text-sm mb-2">–ï–¥–∏–Ω–∏—Ü–∞</div>
                                    <div class="text-2xl font-bold text-white">${this.product.unit || '‚Äî'}</div>
                                </div>
                                <div class="bg-white/5 rounded-xl p-4">
                                    <div class="text-gray-400 text-sm mb-2">–í—Å–µ–≥–æ</div>
                                    <div class="text-2xl font-bold text-emerald-400">${fmt(this.product.tender_price * this.product.quantity)}‚Ç∏</div>
                                </div>
                            </div>
                        </div>

                        <!-- Financial Analytics -->
                        ${this.product.stats ? `
                            <div class="glass-strong rounded-3xl p-8 mb-8">
                                <div class="flex items-center gap-4 mb-8">
                                    <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center">
                                        <span class="text-3xl">üìä</span>
                                    </div>
                                    <div>
                                        <h3 class="text-3xl font-bold text-white">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑</h3>
                                        <p class="text-gray-400">–î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏</p>
                                    </div>
                                </div>
                                
                                <div class="grid md:grid-cols-2 gap-6 mb-8">
                                    <!-- Costs -->
                                    <div class="space-y-4">
                                        <h4 class="text-lg font-bold text-white mb-4">üí∏ –ó–∞—Ç—Ä–∞—Ç—ã</h4>
                                        <div class="bg-white/5 rounded-2xl p-5">
                                            <div class="flex justify-between items-center mb-2">
                                                <span class="text-gray-400">–ó–∞–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä–∞</span>
                                                <span class="text-white font-bold">${fmt(this.product.stats.total_cost)}‚Ç∏</span>
                                            </div>
                                            <div class="text-xs text-gray-500">–¶–µ–Ω–∞ √ó –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (40%)</div>
                                        </div>
                                        <div class="bg-white/5 rounded-2xl p-5">
                                            <div class="flex justify-between items-center mb-2">
                                                <span class="text-gray-400">–î–æ—Å—Ç–∞–≤–∫–∞ (15%)</span>
                                                <span class="text-white font-bold">${fmt(this.product.stats.delivery_cost)}‚Ç∏</span>
                                            </div>
                                            <div class="text-xs text-gray-500">–û—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫—É–ø–∫–∏</div>
                                        </div>
                                        <div class="bg-orange-500/20 rounded-2xl p-5 border-2 border-orange-500/30">
                                            <div class="flex justify-between items-center">
                                                <span class="text-orange-300 font-bold">–ò–¢–û–ì–û –∑–∞—Ç—Ä–∞—Ç</span>
                                                <span class="text-orange-400 font-black text-2xl">${fmt(this.product.stats.total_expense)}‚Ç∏</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Revenue -->
                                    <div class="space-y-4">
                                        <h4 class="text-lg font-bold text-white mb-4">üí∞ –î–æ—Ö–æ–¥</h4>
                                        <div class="bg-white/5 rounded-2xl p-5">
                                            <div class="flex justify-between items-center mb-2">
                                                <span class="text-gray-400">–í—ã—Ä—É—á–∫–∞</span>
                                                <span class="text-blue-400 font-bold text-xl">${fmt(this.product.stats.revenue)}‚Ç∏</span>
                                            </div>
                                            <div class="text-xs text-gray-500">–¢–µ–Ω–¥–µ—Ä–Ω–∞—è —Ü–µ–Ω–∞ √ó –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</div>
                                        </div>
                                        <div class="bg-emerald-500/20 rounded-2xl p-5 border-2 border-emerald-500/30">
                                            <div class="flex justify-between items-center mb-2">
                                                <span class="text-emerald-300 font-bold">–ß–ò–°–¢–ê–Ø –ø—Ä–∏–±—ã–ª—å</span>
                                                <span class="text-emerald-400 font-black text-3xl">${fmt(this.product.stats.profit)}‚Ç∏</span>
                                            </div>
                                            <div class="text-xs text-emerald-300">–í—ã—Ä—É—á–∫–∞ - –ó–∞—Ç—Ä–∞—Ç—ã</div>
                                        </div>
                                        <div class="bg-purple-500/20 rounded-2xl p-5 border-2 border-purple-500/30">
                                            <div class="flex justify-between items-center">
                                                <span class="text-purple-300 font-bold">ROI</span>
                                                <span class="text-purple-400 font-black text-3xl">${this.product.stats.roi.toFixed(1)}%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Key Metrics -->
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    <div class="bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-2xl p-4 border border-blue-500/20">
                                        <div class="text-blue-400 text-sm mb-1">–õ—É—á—à–∞—è —Ü–µ–Ω–∞</div>
                                        <div class="text-2xl font-bold text-white">${fmt(this.product.stats.best_price)}‚Ç∏</div>
                                    </div>
                                    <div class="bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-500/20">
                                        <div class="text-purple-400 text-sm mb-1">–ú–∞—Ä–∂–∞</div>
                                        <div class="text-2xl font-bold text-white">${this.product.stats.margin_percent.toFixed(0)}%</div>
                                    </div>
                                    <div class="bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 rounded-2xl p-4 border border-emerald-500/20">
                                        <div class="text-emerald-400 text-sm mb-1">–ü—Ä–∏–±—ã–ª—å</div>
                                        <div class="text-2xl font-bold text-white">${fmtShort(this.product.stats.profit)}‚Ç∏</div>
                                    </div>
                                    <div class="bg-gradient-to-br from-orange-500/10 to-orange-600/10 rounded-2xl p-4 border border-orange-500/20">
                                        <div class="text-orange-400 text-sm mb-1">–ó–∞—Ç—Ä–∞—Ç—ã</div>
                                        <div class="text-2xl font-bold text-white">${fmtShort(this.product.stats.total_expense)}‚Ç∏</div>
                                    </div>
                                </div>
                            </div>
                        ` : ''}

                        <!-- Marketplace Links -->
                        ${this.product.search_results && this.product.search_results.length > 0 ? `
                            <div class="glass-strong rounded-3xl p-8">
                                <div class="flex items-center gap-4 mb-8">
                                    <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center">
                                        <span class="text-3xl">üõí</span>
                                    </div>
                                    <div>
                                        <h3 class="text-3xl font-bold text-white">–ì–¥–µ –∫—É–ø–∏—Ç—å</h3>
                                        <p class="text-gray-400">–ù–∞–π–¥–µ–Ω–æ ${this.product.search_results.length} –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤ ${(() => {
                                            const grouped = groupByCountry(this.product.search_results);
                                            const countries = [];
                                            if (grouped.kazakhstan.length) countries.push('üá∞üáø –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ');
                                            if (grouped.russia.length) countries.push('üá∑üá∫ –†–æ—Å—Å–∏–∏');
                                            if (grouped.china.length) countries.push('üá®üá≥ –ö–∏—Ç–∞–µ');
                                            return countries.join(', ');
                                        })()}</p>
                                    </div>
                                </div>

                                ${(() => {
                                    const grouped = groupByCountry(this.product.search_results);
                                    let html = '';
                                    let globalIndex = 0;
                                    
                                    // –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω
                                    if (grouped.kazakhstan.length > 0) {
                                        html += `
                                            <div class="mb-8">
                                                <div class="flex items-center gap-3 mb-4">
                                                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-400 to-cyan-500 flex items-center justify-center text-2xl">
                                                        üá∞üáø
                                                    </div>
                                                    <h4 class="text-2xl font-bold text-white">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</h4>
                                                    <span class="badge badge-user">${grouped.kazakhstan.length} ${grouped.kazakhstan.length === 1 ? '–≤–∞—Ä–∏–∞–Ω—Ç' : '–≤–∞—Ä–∏–∞–Ω—Ç–∞'}</span>
                                                </div>
                                                <div class="grid gap-4">
                                                    ${grouped.kazakhstan.map((result) => {
                                                        globalIndex++;
                                                        const isFirst = globalIndex === 1;
                                                        return `
                                                            <a href="${result.product_url}" target="_blank" rel="noopener noreferrer" 
                                                               class="glass rounded-2xl p-6 card-hover flex items-start justify-between gap-6 group">
                                                                <div class="flex-1">
                                                                    <div class="flex items-center gap-3 mb-3">
                                                                        <span class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-bold text-sm">
                                                                            ${globalIndex}
                                                                        </span>
                                                                        <span class="badge bg-blue-500/20 text-blue-300 border border-blue-500/30">
                                                                            üá∞üáø ${result.marketplace}
                                                                        </span>
                                                                        ${isFirst ? '<span class="badge bg-emerald-500/20 text-emerald-300 border border-emerald-500/30">üèÜ –õ—É—á—à–∞—è —Ü–µ–Ω–∞</span>' : ''}
                                                                    </div>
                                                                    <h4 class="text-white font-medium text-lg mb-2">${result.product_title}</h4>
                                                                    <div class="text-gray-400 text-sm font-mono break-all">${result.product_url}</div>
                                                                </div>
                                                                <div class="text-right flex-shrink-0">
                                                                    <div class="text-3xl font-black ${isFirst ? 'text-emerald-400' : 'text-white'} mb-1">${fmt(result.product_price)}‚Ç∏</div>
                                                                    <div class="text-sm ${isFirst ? 'text-emerald-300' : 'text-gray-400'}">${result.marketplace}</div>
                                                                    <div class="mt-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                                                        <span class="inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-blue-500/20 text-blue-300 text-sm font-medium">
                                                                            –û—Ç–∫—Ä—ã—Ç—å ‚Üí
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        `;
                                                    }).join('')}
                                                </div>
                                            </div>
                                        `;
                                    }
                                    
                                    // –†–æ—Å—Å–∏—è
                                    if (grouped.russia.length > 0) {
                                        html += `
                                            <div class="mb-8">
                                                <div class="flex items-center gap-3 mb-4">
                                                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-red-500 flex items-center justify-center text-2xl">
                                                        üá∑üá∫
                                                    </div>
                                                    <h4 class="text-2xl font-bold text-white">–†–æ—Å—Å–∏—è</h4>
                                                    <span class="badge badge-user">${grouped.russia.length} ${grouped.russia.length === 1 ? '–≤–∞—Ä–∏–∞–Ω—Ç' : grouped.russia.length < 5 ? '–≤–∞—Ä–∏–∞–Ω—Ç–∞' : '–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤'}</span>
                                                </div>
                                                <div class="grid gap-4">
                                                    ${grouped.russia.map((result) => {
                                                        globalIndex++;
                                                        const isFirst = globalIndex === 1;
                                                        return `
                                                            <a href="${result.product_url}" target="_blank" rel="noopener noreferrer" 
                                                               class="glass rounded-2xl p-6 card-hover flex items-start justify-between gap-6 group">
                                                                <div class="flex-1">
                                                                    <div class="flex items-center gap-3 mb-3">
                                                                        <span class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-red-500 text-white font-bold text-sm">
                                                                            ${globalIndex}
                                                                        </span>
                                                                        <span class="badge bg-blue-500/20 text-blue-300 border border-blue-500/30">
                                                                            üá∑üá∫ ${result.marketplace}
                                                                        </span>
                                                                        ${isFirst ? '<span class="badge bg-emerald-500/20 text-emerald-300 border border-emerald-500/30">üèÜ –õ—É—á—à–∞—è —Ü–µ–Ω–∞</span>' : ''}
                                                                    </div>
                                                                    <h4 class="text-white font-medium text-lg mb-2">${result.product_title}</h4>
                                                                    <div class="text-gray-400 text-sm font-mono break-all">${result.product_url}</div>
                                                                </div>
                                                                <div class="text-right flex-shrink-0">
                                                                    <div class="text-3xl font-black ${isFirst ? 'text-emerald-400' : 'text-white'} mb-1">${fmt(result.product_price)}‚Ç∏</div>
                                                                    <div class="text-sm ${isFirst ? 'text-emerald-300' : 'text-gray-400'}">${result.marketplace}</div>
                                                                    <div class="mt-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                                                        <span class="inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-blue-500/20 text-blue-300 text-sm font-medium">
                                                                            –û—Ç–∫—Ä—ã—Ç—å ‚Üí
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        `;
                                                    }).join('')}
                                                </div>
                                            </div>
                                        `;
                                    }
                                    
                                    // –ö–∏—Ç–∞–π
                                    if (grouped.china.length > 0) {
                                        html += `
                                            <div class="mb-8">
                                                <div class="flex items-center gap-3 mb-4">
                                                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-yellow-500 flex items-center justify-center text-2xl">
                                                        üá®üá≥
                                                    </div>
                                                    <h4 class="text-2xl font-bold text-white">–ö–∏—Ç–∞–π</h4>
                                                    <span class="badge badge-user">${grouped.china.length} ${grouped.china.length === 1 ? '–≤–∞—Ä–∏–∞–Ω—Ç' : grouped.china.length < 5 ? '–≤–∞—Ä–∏–∞–Ω—Ç–∞' : '–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤'}</span>
                                                </div>
                                                <div class="grid gap-4">
                                                    ${grouped.china.map((result) => {
                                                        globalIndex++;
                                                        const isFirst = globalIndex === 1;
                                                        return `
                                                            <a href="${result.product_url}" target="_blank" rel="noopener noreferrer" 
                                                               class="glass rounded-2xl p-6 card-hover flex items-start justify-between gap-6 group">
                                                                <div class="flex-1">
                                                                    <div class="flex items-center gap-3 mb-3">
                                                                        <span class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-red-500 to-yellow-500 text-white font-bold text-sm">
                                                                            ${globalIndex}
                                                                        </span>
                                                                        <span class="badge bg-red-500/20 text-red-300 border border-red-500/30">
                                                                            üá®üá≥ ${result.marketplace}
                                                                        </span>
                                                                        ${isFirst ? '<span class="badge bg-emerald-500/20 text-emerald-300 border border-emerald-500/30">üèÜ –õ—É—á—à–∞—è —Ü–µ–Ω–∞</span>' : ''}
                                                                    </div>
                                                                    <h4 class="text-white font-medium text-lg mb-2">${result.product_title}</h4>
                                                                    <div class="text-gray-400 text-sm font-mono break-all">${result.product_url}</div>
                                                                </div>
                                                                <div class="text-right flex-shrink-0">
                                                                    <div class="text-3xl font-black ${isFirst ? 'text-emerald-400' : 'text-white'} mb-1">${fmt(result.product_price)}‚Ç∏</div>
                                                                    <div class="text-sm ${isFirst ? 'text-emerald-300' : 'text-gray-400'}">${result.marketplace}</div>
                                                                    <div class="mt-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                                                        <span class="inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-red-500/20 text-red-300 text-sm font-medium">
                                                                            –û—Ç–∫—Ä—ã—Ç—å ‚Üí
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        `;
                                                    }).join('')}
                                                </div>
                                            </div>
                                        `;
                                    }
                                    
                                    return html;
                                })()}

                                <div class="p-4 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20">
                                    <div class="flex items-start gap-3">
                                        <span class="text-2xl">üí°</span>
                                        <div class="text-sm text-blue-200">
                                            <strong>–°–æ–≤–µ—Ç:</strong> –°—Ä–∞–≤–Ω–∏—Ç–µ —Ü–µ–Ω—ã –∏ —É—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö. 
                                            –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∏–µ –º–∞–≥–∞–∑–∏–Ω—ã –æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç, –∫–∏—Ç–∞–π—Å–∫–∏–µ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –ª—É—á—à–∏–µ —Ü–µ–Ω—ã.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                `;
            }

            renderAdmin() {
                if (!this.user || !this.user.is_admin) {
                    return `
                        <div class="min-h-[calc(100vh-5rem)] flex items-center justify-center px-4">
                            <div class="text-center">
                                <div class="text-8xl mb-6">üîí</div>
                                <h2 class="text-3xl font-bold text-white mb-4">–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω</h2>
                                <p class="text-gray-400 mb-8">–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
                                <button onclick="app.setPage('home')" class="px-6 py-3 rounded-xl btn-primary text-white font-bold">
                                    –ù–∞ –≥–ª–∞–≤–Ω—É—é
                                </button>
                            </div>
                        </div>
                    `;
                }

                return `
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <div class="flex items-center justify-between mb-8">
                            <div>
                                <h2 class="text-4xl font-black text-white mb-2">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h2>
                                <p class="text-gray-400">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å–∏—Å—Ç–µ–º—ã</p>
                            </div>
                            <div class="badge badge-admin">
                                ‚ö° ADMIN ACCESS
                            </div>
                        </div>

                        <!-- Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div class="glass-strong rounded-2xl p-6">
                                <div class="flex items-center gap-4">
                                    <div class="w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center">
                                        <span class="text-2xl">üë•</span>
                                    </div>
                                    <div>
                                        <div class="text-3xl font-bold text-white">${this.users.length}</div>
                                        <div class="text-sm text-gray-400">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                                    </div>
                                </div>
                            </div>
                            <div class="glass-strong rounded-2xl p-6">
                                <div class="flex items-center gap-4">
                                    <div class="w-12 h-12 rounded-xl bg-yellow-500/20 flex items-center justify-center">
                                        <span class="text-2xl">üëë</span>
                                    </div>
                                    <div>
                                        <div class="text-3xl font-bold text-yellow-400">${this.users.filter(u => u.is_admin).length}</div>
                                        <div class="text-sm text-gray-400">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</div>
                                    </div>
                                </div>
                            </div>
                            <div class="glass-strong rounded-2xl p-6">
                                <div class="flex items-center gap-4">
                                    <div class="w-12 h-12 rounded-xl bg-green-500/20 flex items-center justify-center">
                                        <span class="text-2xl">üë§</span>
                                    </div>
                                    <div>
                                        <div class="text-3xl font-bold text-green-400">${this.users.filter(u => !u.is_admin).length}</div>
                                        <div class="text-sm text-gray-400">–û–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Users Table -->
                        <div class="glass-strong rounded-2xl overflow-hidden">
                            <div class="p-6 border-b border-white/10">
                                <h3 class="text-2xl font-bold text-white">–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b border-white/10 bg-white/5">
                                            <th class="text-left px-6 py-4 text-sm font-bold text-gray-300">ID</th>
                                            <th class="text-left px-6 py-4 text-sm font-bold text-gray-300">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                            <th class="text-left px-6 py-4 text-sm font-bold text-gray-300">Email</th>
                                            <th class="text-left px-6 py-4 text-sm font-bold text-gray-300">–†–æ–ª—å</th>
                                            <th class="text-left px-6 py-4 text-sm font-bold text-gray-300">–î–∞—Ç–∞</th>
                                            <th class="text-right px-6 py-4 text-sm font-bold text-gray-300">–î–µ–π—Å—Ç–≤–∏—è</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${this.users.map(user => `
                                            <tr class="table-row border-b border-white/5">
                                                <td class="px-6 py-4">
                                                    <span class="text-gray-400 font-mono text-sm">#${user.id}</span>
                                                </td>
                                                <td class="px-6 py-4">
                                                    <div class="flex items-center gap-3">
                                                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold">
                                                            ${user.username[0].toUpperCase()}
                                                        </div>
                                                        <span class="text-white font-medium">${user.username}</span>
                                                    </div>
                                                </td>
                                                <td class="px-6 py-4">
                                                    <span class="text-gray-400 text-sm">${user.email}</span>
                                                </td>
                                                <td class="px-6 py-4">
                                                    ${user.is_admin 
                                                        ? '<span class="badge badge-admin">ADMIN</span>' 
                                                        : '<span class="badge badge-user">USER</span>'}
                                                </td>
                                                <td class="px-6 py-4">
                                                    <span class="text-gray-400 text-sm">${new Date(user.created_at).toLocaleDateString('ru-RU')}</span>
                                                </td>
                                                <td class="px-6 py-4 text-right">
                                                    ${user.id !== this.user.id ? `
                                                        <div class="flex items-center justify-end gap-2">
                                                            <button onclick="app.toggleAdmin(${user.id})" 
                                                                class="px-4 py-2 rounded-lg ${user.is_admin ? 'bg-orange-500/20 text-orange-300 hover:bg-orange-500/30' : 'bg-blue-500/20 text-blue-300 hover:bg-blue-500/30'} text-sm font-medium transition-all">
                                                                ${user.is_admin ? '‚Üì –°–Ω—è—Ç—å –∞–¥–º–∏–Ω–∞' : '‚Üë –°–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º'}
                                                            </button>
                                                            <button onclick="app.deleteUser(${user.id})" 
                                                                class="px-4 py-2 rounded-lg bg-red-500/20 text-red-300 hover:bg-red-500/30 text-sm font-medium transition-all">
                                                                üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                                                            </button>
                                                        </div>
                                                    ` : '<span class="text-gray-500 text-sm font-medium">–í—ã</span>'}
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Info Panel -->
                        <div class="mt-8 glass-strong rounded-2xl p-6 border-l-4 border-yellow-500">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 rounded-xl bg-yellow-500/20 flex items-center justify-center flex-shrink-0">
                                    <span class="text-2xl">‚ÑπÔ∏è</span>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-yellow-300 mb-2">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</h4>
                                    <ul class="text-gray-300 space-y-2 text-sm">
                                        <li class="flex items-center gap-2">
                                            <span class="text-green-400">‚úì</span>
                                            –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span class="text-green-400">‚úì</span>
                                            –ê–¥–º–∏–Ω—ã –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span class="text-green-400">‚úì</span>
                                            –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∞ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å —Å–µ–±—è
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span class="text-yellow-400">‚ö†</span>
                                            –õ–æ–≥–∏–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: <code class="bg-black/30 px-2 py-1 rounded">admin</code> / <code class="bg-black/30 px-2 py-1 rounded">admin123</code>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        const app = new App();
    </script>
</body>
</html>
